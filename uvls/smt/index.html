<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Implements the semantic analysis using Z3"><title>uvls::smt - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="uvls" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../uvls/index.html">uvls</a><span class="version">0.1.7</span></h2></div><h2 class="location"><a href="#">Module smt</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate uvls</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">uvls</a>::<wbr><a class="mod" href="#">smt</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/uvls/smt.rs.html#1-643">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Implements the semantic analysis using Z3</p>
<p>SMT semantic analysis with Z3, communication with the solver happens over stdio and SMT-LIB2.
While the performance is worse than linking with Z3, we are solver independent and donâ€™t have to interact
with any C-Bindings. UVL is translated directly into SMT-LIB, both attributes and features are treated as
free variables. The rest is encoded in named asserts, this allows to get a accurate unsat core.
Eg. each attribute is restricted with an assert that allows it to either be its defined value or 0 depending
on the parent feature value.
Using functions might be more efficient, but this way we can reconfigure and detect if
an attribute value contributes to the unsat core.
Variables are named as v{n} where n is an index into a lookup table of UVL ModuleSymbols
Asserts are encoded similarly as a{n} where n is and index into a list of naming information
that links uvl expression to asserts.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><code>pub use <a class="mod" href="smt_lib/index.html" title="mod uvls::smt::smt_lib">smt_lib</a>::*;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="parse/index.html" title="mod uvls::smt::parse">parse</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Turn smt-lib strings to rust. (currently incomplete)</div></li><li><div class="item-name"><a class="mod" href="smt_lib/index.html" title="mod uvls::smt::smt_lib">smt_lib</a></div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.HAS_Z3.html" title="struct uvls::smt::HAS_Z3">HAS_Z3</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">A static reference wether a client has z3 installed</div></li><li><div class="item-name"><a class="struct" href="struct.OwnedSMTModel.html" title="struct uvls::smt::OwnedSMTModel">OwnedSMT<wbr>Model</a></div></li><li><div class="item-name"><a class="struct" href="struct.SmtSolver.html" title="struct uvls::smt::SmtSolver">SmtSolver</a></div><div class="desc docblock-short">Z3 process interface(over stdio)</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.SMTModel.html" title="enum uvls::smt::SMTModel">SMTModel</a></div><div class="desc docblock-short">This stores the Z3 solution</div></li><li><div class="item-name"><a class="enum" href="enum.SMTValueState.html" title="enum uvls::smt::SMTValueState">SMTValue<wbr>State</a></div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.can_run_z3.html" title="fn uvls::smt::can_run_z3">can_<wbr>run_<wbr>z3</a></div><div class="desc docblock-short">This function is a helper function which checks if a LSP can run z3.</div></li><li><div class="item-name"><a class="fn" href="fn.check_base_sat.html" title="fn uvls::smt::check_base_sat">check_<wbr>base_<wbr>sat</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">This function checks the SAT Level of a FileID</div></li><li><div class="item-name"><a class="fn" href="fn.check_config.html" title="fn uvls::smt::check_config">check_<wbr>config</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">checks if config is SAT Solvable</div></li><li><div class="item-name"><a class="fn" href="fn.check_handler.html" title="fn uvls::smt::check_handler">check_<wbr>handler</a></div></li><li><div class="item-name"><a class="fn" href="fn.create_model.html" title="fn uvls::smt::create_model">create_<wbr>model</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Creator for SMTModel</div></li><li><div class="item-name"><a class="fn" href="fn.find_fixed.html" title="fn uvls::smt::find_fixed">find_<wbr>fixed</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">find constant boolean values for dead features and other cool analysis</div></li><li><div class="item-name"><a class="fn" href="fn.web_view_handler.html" title="fn uvls::smt::web_view_handler">web_<wbr>view_<wbr>handler</a></div><div class="desc docblock-short">runs smt-analysis on configurations.</div></li></ul></section></div></main></body></html>